(this.webpackJsonpprotoreact=this.webpackJsonpprotoreact||[]).push([[0],{17:function(e,a,t){e.exports=t.p+"static/media/brand.72e05492.png"},22:function(e,a,t){e.exports=t(38)},28:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t.n(l),o=t(1),m=t(5),i=t(6),u=t(10),s=t.n(u),d=function(e,a,t){var n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.awrap(fetch("http://127.0.0.1:5000/api/v1.0/"+e+"/",{method:a,headers:{Authorization:"Basic "+btoa("web:test"),Accept:"application/json","Content-Type":"application/json"},body:t?JSON.stringify(t):null}).then((function(e){return e.json()})));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}))},f=function(e){var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),r=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("-")},b=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},E=t(17),g=t.n(E),v=(t(28),function(e){var a=Object(n.useState)({ref:"",nama:""}),t=Object(o.a)(a,2),l=t[0],c=t[1],m=function(e){var a=e.target,t=a.name,n=a.value;c({nama:"nama"===t?n:l.nama,ref:"ref"===t?n.slice(0,3):l.ref})};return r.a.createElement("div",{className:e.show?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Tambah Akun Baru")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(a){return t=a,e.add(l),c({nama:"",ref:""}),void t.preventDefault();var t}},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Ref: "),r.a.createElement("input",{className:"mx-2 form-control",type:"number",name:"ref",required:!0,value:l.ref,onChange:function(e){return m(e)}}),r.a.createElement("label",{className:"form-control"},"Nama: "),r.a.createElement("input",{className:"mx-2 form-control",type:"text",name:"nama",required:!0,value:l.nama,onChange:function(e){return m(e)}})),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))}),p=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),l=t[0],c=t[1],m=e.add,i=e.data;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Daftar Akun"),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Tambah Akun Baru",onClick:function(){return c(!l)}}),r.a.createElement(v,{show:l,add:m}),i&&i.map((function(e){return r.a.createElement("div",{className:"m-3 card",key:e.ref},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,e.nama," - ",e.ref)))})))},k=t(4),h=function(e){var a=e.akun,t=e.show,l=e.add,c=Object(n.useState)({uraian:"",tanggal:f(Date.now()),details:[{akun_ref:"",nominal:"",dk:"D"},{akun_ref:"",nominal:"",dk:"K"}]}),m=Object(o.a)(c,2),i=m[0],u=m[1],s=function(e){var a=i.details.filter((function(a,t){return e!==t}));u({uraian:i.uraian,details:a}),E()},d=function(e,a){var t=i.details,n=a.target,r=n.name,l=n.value;t[e]={akun_ref:"akun"===r?l:t[e].akun_ref,nominal:"nominal"===r?l:t[e].nominal,dk:"dk"===r?l:t[e].dk},u({uraian:i.uraian,details:t}),E()},b=function(e){var a=e.target,t=a.name,n=a.value;u({tanggal:"tanggal"===t?n:i.tanggal,uraian:"uraian"===t?n:i.uraian,details:i.details}),E()},E=function(){var e,a=i.details,t=i.uraian,n=0,r=!1;for(e in a){var l=a[e],c=l.akun_ref,o=l.dk,m=l.nominal;r=!("PK"===c),n="D"===o?n+parseFloat(m):n-parseFloat(m)}var u=0===n,s=""!==t||null===t.match(/^ *$/),d=a.length>=2;return{sum:n,valid:r&&u&&s&&d}};return r.a.createElement("div",{className:t?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Pencatatan Jurnal Umum")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){l(i),console.log(i),u({uraian:"",tanggal:f(Date.now()),details:[{akun_ref:"",nominal:"",dk:"D"},{akun_ref:"",nominal:"",dk:"K"}]}),e.preventDefault()}(e)}},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Uraian: "),r.a.createElement("input",{className:"mx-2 form-control",type:"text",name:"uraian",required:!0,value:i.uraian,onChange:function(e){return b(e)}}),r.a.createElement("label",{className:"form-control"},"Tanggal: "),r.a.createElement("input",{className:"mx-2 form-control",type:"date",name:"tanggal",required:!0,value:i.tanggal,onChange:function(e){return b(e)}})),i.details&&i.details.map((function(e,t){return r.a.createElement(N,{key:t,id:t,catatan:e,akun:a,handleChange:d,deleteCatatan:s})})),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Tambah Entry",onClick:function(){return function(){E();var e=E().sum,a={akun_ref:"",nominal:0===e?"":Math.abs(e).toString(),dk:e<=0?"D":"K"};u({uraian:i.uraian,details:[].concat(Object(k.a)(i.details),[a])})}()}}),r.a.createElement("input",{className:"mx-2 btn btn-primary",type:"submit",value:"Submit",disabled:0!==E().sum}))))},N=function(e){var a=e||function(){},t=a.id,n=a.handleChange,l=a.deleteCatatan,c=a.catatan,o=a.akun;return r.a.createElement("div",{className:"form-group form-inline"},r.a.createElement("label",{className:"form-control"},c.akun_ref?c.akun_ref:"---"),r.a.createElement("select",{className:"form-control mx-2",value:c.akun_ref,name:"akun",onChange:function(e){return n(t,e)},required:!0},r.a.createElement("option",{value:"",disabled:!0},"Pilih Akun"),o&&o.map((function(e){return r.a.createElement("option",{key:e.ref,value:e.ref},e.nama)}))),r.a.createElement("input",{className:"form-control mx-2",type:"number",value:c.nominal,name:"nominal",onChange:function(e){return n(t,e)},required:!0}),r.a.createElement("select",{className:"form-control mx-2",value:c.dk,name:"dk",onChange:function(e){return n(t,e)}},r.a.createElement("option",{value:"D"},"Debit"),r.a.createElement("option",{value:"K"},"Kredit")),t>1&&r.a.createElement("input",{className:"btn btn-danger mx-2",type:"button",value:"X",onClick:function(){return l(t)}}))},x=function(e){var a=e.jurnal,t=e.akun,l=e.show,c=(e.add,Object(n.useState)("")),m=Object(o.a)(c,2),i=m[0],u=m[1],s=Object(n.useState)({uraian:"",tanggal:f(Date.now()),details:[{akun_ref:"",nominal:"",dk:"D"},{akun_ref:"",nominal:"",dk:"K"}]}),d=Object(o.a)(s,2),b=d[0],E=d[1],g=function(e){var a=b.details.filter((function(a,t){return e!==t}));E({uraian:b.uraian,details:a}),h()},v=function(e,a){var t=b.details,n=a.target,r=n.name,l=n.value;t[e]={akun_ref:"akun"===r?l:t[e].akun_ref,nominal:"nominal"===r?l:t[e].nominal,dk:"dk"===r?l:t[e].dk},E({uraian:b.uraian,details:t}),h()},p=function(e){var a=e.target,t=a.name,n=a.value;E({tanggal:"tanggal"===t?n:b.tanggal,uraian:"uraian"===t?n:b.uraian,details:b.details}),h()},h=function(){var e,a=b.details,t=0;for(e in a){var n=a[e],r=n.dk,l=n.nominal;t="D"===r?t+parseFloat(l):t-parseFloat(l)}return{sum:t}};return r.a.createElement("div",{className:l?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Pencatatan Jurnal Revisi")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){console.log(b),console.log(i),E(""),u(""),e.preventDefault()}(e)}},r.a.createElement("div",{className:"d-block"},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Jurnal yang akan direvisi: "),r.a.createElement("select",{className:"mx-2 form-control",name:"jurnal",value:i,onChange:function(e){return function(e){var n=e.target.value;u(n);var r=a.find((function(e){return e.uraian===n}));if(r){var l,c=r.details,o=function(){var e=c[l].akun,a=t.find((function(a){return a.nama===e}));c[l]={akun_ref:a.ref,nominal:c[l].nominal,dk:c[l].dk}};for(l in c)o();u({tanggal:r.tanggal.slice(0,10).replace(/\//g,"-"),uraian:r.uraian+" (Revisi "+f(Date.now())+")",details:c}),E({tanggal:f(Date.now()),uraian:r.uraian+" (Revisi "+f(Date.now())+")",details:c})}else E({}),u("");h()}(e)}},r.a.createElement("option",{value:"",disabled:!0},"Pilih Jurnal"),a.map((function(e,a){return r.a.createElement("option",{value:e.uraian},e.uraian)}))))),r.a.createElement("div",{className:i?"d-block":"d-none"},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Uraian: "),r.a.createElement("input",{className:"mx-2 form-control",type:"text",name:"uraian",required:!0,value:b.uraian,onChange:function(e){return p(e)}}),r.a.createElement("label",{className:"form-control"},"Tanggal: "),r.a.createElement("input",{className:"mx-2 form-control",type:"date",name:"tanggal",required:!0,value:b.tanggal,onChange:function(e){return p(e)}})),b.details&&b.details.map((function(e,a){return r.a.createElement(y,{key:a,id:a,catatan:e,akun:t,handleChange:v,deleteCatatan:g})})),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Tambah Entry",onClick:function(){return function(){h();var e=h().sum,a={akun_ref:"",nominal:0===e?"":Math.abs(e).toString(),dk:e<=0?"D":"K"};E({uraian:b.uraian,details:[].concat(Object(k.a)(b.details),[a])})}()}}),r.a.createElement("input",{className:"mx-2 btn btn-primary",type:"submit",value:"Submit",disabled:0!==h().sum})))))},y=function(e){var a=e||function(){},t=a.id,n=a.handleChange,l=a.deleteCatatan,c=a.catatan,o=a.akun;return r.a.createElement("div",{className:"form-group form-inline"},r.a.createElement("label",{className:"form-control"},c.akun_ref?c.akun_ref:"---"),r.a.createElement("select",{className:"form-control mx-2",value:c.akun_ref,name:"akun",onChange:function(e){return n(t,e)},required:!0},r.a.createElement("option",{value:"",disabled:!0},"Pilih Akun"),o&&o.map((function(e){return r.a.createElement("option",{key:e.ref,value:e.ref},e.nama)}))),r.a.createElement("input",{className:"form-control mx-2",type:"number",value:c.nominal,name:"nominal",onChange:function(e){return n(t,e)},required:!0}),r.a.createElement("select",{className:"form-control mx-2",value:c.dk,name:"dk",onChange:function(e){return n(t,e)}},r.a.createElement("option",{value:"D"},"Debit"),r.a.createElement("option",{value:"K"},"Kredit")),t>1&&r.a.createElement("input",{className:"btn btn-danger mx-2",type:"button",value:"X",onClick:function(){return l(t)}}))},j=function(e){var a=e.data,t=e.methods,l=Object(n.useState)({umum:!1,revisi:!1,daftar:!1}),c=Object(o.a)(l,2),m=c[0],i=c[1],u=a||function(){},s=u.akun,d=u.jurnal,f=(t||function(){}).add;return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Jurnal"),r.a.createElement("input",{className:"btn btn-primary mr-2",type:"button",value:"Catat Jurnal Umum",onClick:function(){return i({umum:!m.umum,revisi:!1,daftar:!1})}}),r.a.createElement("input",{className:"btn btn-primary mx-2",type:"button",value:"Catat Jurnal Revisi",onClick:function(){return i({umum:!1,revisi:!m.revisi,daftar:!1})}}),r.a.createElement("input",{className:"btn btn-primary mx-2",type:"button",value:"Lihat Daftar Jurnal",onClick:function(){return i({umum:!1,revisi:!1,daftar:!m.daftar})}}),r.a.createElement(h,{akun:s,show:m.umum,add:f}),r.a.createElement(x,{jurnal:d,akun:s,show:m.revisi,add:f}),r.a.createElement("div",{className:m.daftar?"d-block":"d-none"},r.a.createElement("h2",{className:"mt-3"},"Daftar Jurnal"),d&&d.map((function(e){return r.a.createElement(_,{item:e})}))))},_=function(e){var a=e.item,t=Object(n.useState)(!1),l=Object(o.a)(t,2),c=l[0],m=l[1],i=a.details;return r.a.createElement("div",{className:"card m-3",key:a.id},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,a.uraian," - ",a.tanggal),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Lihat Detail",onClick:function(){return m(!c)}}),r.a.createElement("div",{className:c?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-8 border text-left"},r.a.createElement("h5",null,"Akun")),r.a.createElement("div",{className:"col-2 border text-left"},r.a.createElement("h5",null,"Debit")),r.a.createElement("div",{className:"col-2 border text-left"},r.a.createElement("h5",null,"Kredit"))),i&&i.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-8 border text-left"},e.akun),r.a.createElement("div",{className:"col-2 border text-right"},"D"===e.dk?e.nominal:function(){}),r.a.createElement("div",{className:"col-2 border text-right"},"K"===e.dk?e.nominal:function(){}))})))))},S=t(18),w=t.n(S),C=t(19),D=t.n(C),O=function(e){var a=Object(n.useState)({ref:"",tmin:f(Date.now()).replace(/[0-9]{2}$/,"01"),tmax:f(Date.now()).replace(/[0-9]{2}$/,parseInt(f(Date.now()).match(/[0-9]{2}$/))+1)}),t=Object(o.a)(a,2),l=t[0],c=t[1],m=e.data,i=function(e){var a=e.target,t=a.name,n=a.value;c({ref:"ref"===t?n:l.ref,tmin:"tmin"===t?n:l.tmin,tmax:"tmax"===t?n:l.tmax})};return r.a.createElement("div",{className:"d-block card mx-auto m-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Buku Besar")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(a){return t=a,e.select(l),void t.preventDefault();var t}},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},l.ref?l.ref:"---"),r.a.createElement("select",{className:"form-control mx-2",value:l.ref,name:"ref",onChange:function(e){return i(e)},required:!0},r.a.createElement("option",{value:"",disabled:!0},"Pilih Akun"),m&&m.map((function(e){return r.a.createElement("option",{key:e.ref,value:e.ref},e.nama)}))),r.a.createElement("label",{className:"form-control"},"Periode: "),r.a.createElement("input",{className:"mx-2 form-control",type:"date",name:"tmin",required:!0,max:l.tmax,value:l.tmin,onChange:function(e){return i(e)}}),r.a.createElement("label",{className:"form-control"},"-"),r.a.createElement("input",{className:"mx-2 form-control",type:"date",name:"tmax",required:!0,min:l.tmin,value:l.tmax,onChange:function(e){return i(e)}})),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))},B=function(e){var a=Object(n.useState)(null),t=Object(o.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{className:"container"},r.a.createElement(O,{data:e.data,select:function(a){var t,n=e.data.filter((function(e){return e.ref===a.ref}))[0],r=n.details,l=n.nama,o=n.ref,m=r.filter((function(e){return new Date(e.tanggal)<=new Date(a.tmax)&&new Date(e.tanggal)>=new Date(a.tmin)})),i=0;for(t in m)switch(o.charAt(0)){case"1":i="D"===m[t].dk?i+m[t].nominal:i-m[t].nominal;break;case"2":case"3":case"4":i="K"===m[t].dk?i+m[t].nominal:i-m[t].nominal;break;default:i="D"===m[t].dk?i+m[t].nominal:i-m[t].nominal}c({ref:o,nama:l,details:m,periode:a.tmin+" : "+a.tmax,sum:i})}}),l&&r.a.createElement("div",{className:"m-3 card",id:"bukuBesar"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,l.nama),r.a.createElement("small",{className:"lead"},"Periode: ",l.periode.replace(/-/gi,"/"))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-body mx-3"},l.details&&l.details.length>0&&r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-2 border text-left"},r.a.createElement("h5",null,"Tanggal")),r.a.createElement("div",{className:"col-6 border text-left"},r.a.createElement("h5",null,"Uraian")),r.a.createElement("div",{className:"col-2 border text-left"},r.a.createElement("h5",null,"Debit")),r.a.createElement("div",{className:"col-2 border text-left"},r.a.createElement("h5",null,"Kredit"))),l.details&&0===l.details.length&&r.a.createElement("div",{className:"row border h-100"},r.a.createElement("div",{className:"col border text-center h-100"},r.a.createElement("h3",null,"Tidak ada catatan pada periode ini"))),l.details&&l.details.length>0&&l.details.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-2 border text-left"},e.tanggal.substring(8,10),e.tanggal.match(/-[0-9]{2}-/),e.tanggal.match(/^[0-9]{4}/)),r.a.createElement("div",{className:"col-6 border textleft"},e.uraian),r.a.createElement("div",{className:"col-2 border text-right"},"D"===e.dk?b(e.nominal):function(){}),r.a.createElement("div",{className:"col-2 border text-right"},"K"===e.dk?b(e.nominal):function(){}))}))),l.details&&l.details.length>0&&r.a.createElement("div",{className:"mx-3 card card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Saldo Akhir:")),r.a.createElement("div",{className:"col text-right lead"},b(l.sum)))))),l&&r.a.createElement("input",{disabled:0===l.details.length,onClick:function(){return function(e){var a=e.nama+"_"+e.periode+".pdf";D()(document.querySelector("#bukuBesar"),{scale:1}).then((function(e){var t=new w.a("l","mm","a4");t.addImage(e.toDataURL("image/png"),"PNG",0,t.internal.pageSize.getHeight()/4,t.internal.pageSize.getWidth(),0),t.save(a)}))}(l)},className:"btn btn-primary btn-block m-3",type:"button",value:"Print"}))},P=t(11),K=function(e){return console.log(e),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Halaman Utama"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 m-3"},r.a.createElement(R,{title:"Saldo Akun Kas",dataset:e.akun})),r.a.createElement("div",{className:"col-12 m-3"},r.a.createElement(T,{title:"Stok Barang",dataset:e.barang}))))},R=function(e){var a=(e.dataset?e:function(){}).dataset,t=Object(n.useMemo)((function(){var e,t=a.filter((function(e){return"1"===e.ref.charAt(0)}));for(e in t)t[e]=[t[e].nama,t[e].saldo];return[{label:"Saldo Akhir",data:t}]})),l=Object(n.useMemo)((function(){return{type:"bar"}}),[]),c=Object(n.useMemo)((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]}),[]);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"m-3",style:{height:"30vh"}},"saldo"===e.tipe,r.a.createElement(P.Chart,{data:t,axes:c,series:l,tooltip:!0}))))},T=function(e){var a=(e.dataset?e:function(){}).dataset;console.log(a);var t=Object(n.useMemo)((function(){var e,t=a;for(e in console.log(t,a),t)t[e]=[t[e].nama,t[e].stok];return[{label:"Stok Akhir",data:t}]})),l=Object(n.useMemo)((function(){return{type:"bar"}}),[]),c=Object(n.useMemo)((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left"}]}),[]);return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"m-3",style:{height:"30vh"}},"saldo"===e.tipe,r.a.createElement(P.Chart,{data:t,axes:c,series:l,tooltip:!0}))))},q=function(e){var a=Object(n.useState)({nama:"",harga_pokok:"",harga_jual:"",stok:""}),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)({saldo:0}),i=Object(o.a)(m,2),u=i[0],s=i[1],f=function(e){var a=e.target,t=a.name,n=a.value;c({nama:"nama"===t?n:l.nama,harga_pokok:"harga_pokok"===t?n:l.harga_pokok,harga_jual:"harga_jual"===t?n:l.harga_jual,stok:"stok"===t?n:l.stok})};return Object(n.useEffect)((function(){d("akun","GET").then((function(e){return s(e.akun_list.find((function(e){return"111"===e.ref.toString()})))}))}),u),r.a.createElement("div",{className:e.show?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Beli Barang Baru")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(a){return t=a,e.add(l),c({nama:"",harga_pokok:"",stok:""}),d("akun","GET").then((function(e){return s(e.akun_list.find((function(e){return"111"===e.ref.toString()})))})),void t.preventDefault();var t}},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Saldo Kas: Rp.",u&&b(u.saldo-l.stok*l.harga_pokok))),r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Nama: "),r.a.createElement("input",{className:"mx-2 form-control",type:"text",name:"nama",required:!0,value:l.nama,onChange:function(e){return f(e)}}),r.a.createElement("label",{className:"form-control"},"Stok: "),r.a.createElement("input",{className:"mx-2 form-control",type:"number",name:"stok",required:!0,value:l.stok,onChange:function(e){return f(e)},min:0})),r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Harga Pokok: "),r.a.createElement("input",{className:"mx-2 form-control",type:"number",name:"harga_pokok",required:!0,value:l.harga_pokok,onChange:function(e){return f(e)}}),r.a.createElement("label",{className:"form-control"},"Harga Jual: "),r.a.createElement("input",{className:"mx-2 form-control",type:"number",name:"harga_jual",required:!0,value:l.harga_jual,onChange:function(e){return f(e)}})),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit",disabled:u&&u.saldo-l.stok*l.harga_pokok<0}))))},A=function(e){var a=Object(n.useState)({id:"",stok:"",harga_pokok:0}),t=Object(o.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)({saldo:0}),i=Object(o.a)(m,2),u=i[0],s=i[1],f=e.data?e.data:function(){},E=function(e){var a=e.target,t=a.name,n=a.value;c({id:"id"===t?n:l.id,stok:"stok"===t?n:l.stok,harga_pokok:g?g.harga_pokok:l.harga_pokok,nama:g?g.nama:l.nama})};Object(n.useEffect)((function(){d("akun","GET").then((function(e){return s(e.akun_list.find((function(e){return"111"===e.ref.toString()})))}))}),[]);var g=f.find((function(e){return e.id===parseInt(l.id)}));return r.a.createElement("div",{className:e.show?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Beli Stok")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(a){return t=a,e.add(l),c({id:"",stok:"",harga_pokok:0,nama:""}),void t.preventDefault();var t}},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Saldo Kas: Rp.",u&&b(u.saldo-(g?g.harga_pokok*l.stok:l.stok)))),r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Barang: "),r.a.createElement("select",{className:"mx-2 form-control",name:"id",value:l.id,onChange:function(e){return E(e)},required:!0},r.a.createElement("option",{disabled:!0,value:""},"Pilih Barang"),f&&f.map((function(e,a){return r.a.createElement("option",{key:e.id,value:e.id},e.nama)})))),l.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"mr-2 form-control"},"Harga Pokok: "),"Rp.",r.a.createElement("label",{className:"mx-2 form-control"},g&&b(g.harga_pokok))),r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Jumlah Stok yang dibeli: "),r.a.createElement("input",{className:"mx-2 form-control",type:"text",name:"stok",required:!0,value:l.stok,onChange:function(e){return E(e)}}))),r.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))))},M=function(e){var a=Object(n.useState)({add:!1,stk:!1}),t=Object(o.a)(a,2),l=t[0],c=t[1];return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Manajemen Barang Dagang"),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Beli Barang Baru",onClick:function(){return c({add:!l.add,stk:!1})}}),r.a.createElement("input",{className:"btn mx-2 btn-primary",type:"button",value:"Beli Stok Barang",onClick:function(){return c({stk:!l.stk,add:!1})}}),r.a.createElement(q,{show:l.add,add:e.methods.add}),r.a.createElement(A,{show:l.stk,add:e.methods.stk,data:e.data.barang}),e.data.barang&&e.data.barang.map((function(e){return r.a.createElement("div",{className:"m-3 card",key:e.id},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",null,e.nama)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Harga Pokok: ",b(e.harga_pokok)),r.a.createElement("h3",null,"Harga Jual: ",b(e.harga_jual)),r.a.createElement("h3",null,"Stok: ",e.stok)))})))},J=function(e){var a=e.barang,t=e.show,l=e.add,c=Object(n.useState)({uraian:"Penjualan ("+f(Date.now())+")",tanggal:f(Date.now()),details:[{barang_id:"",jumlah:""}],sum:0}),m=Object(o.a)(c,2),i=m[0],u=m[1],s=function(e){var a=i.details.filter((function(a,t){return e!==t}));u({uraian:i.uraian,tanggal:i.tanggal,details:a,sum:i.sum})},d=function(e,t){var n=i.details,r=t.target,l=r.name,c=r.value;n[e]={barang_id:"barang"===l?c:n[e].barang_id,jumlah:"jumlah"===l?c:n[e].jumlah};var o,m=0;for(o in n){var s=a.find((function(e){return e.id.toString()===i.details[o].barang_id}));m+=n[o].jumlah*s.harga_jual}console.log(m),u({uraian:i.uraian,tanggal:i.tanggal,details:n,sum:m})};return r.a.createElement("div",{className:t?"d-block card mx-auto m-3":"d-none"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Point of Sale")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){var t,n={uraian:i.uraian,tanggal:i.tanggal,details:[]},r=0;for(t in i.details){var c=a.find((function(e){return e.id.toString()===i.details[t].barang_id}));n.details[parseInt(t)+3]={akun_ref:"112",nominal:i.details[t].jumlah*c.harga_pokok,dk:"K",dp:{barang_id:i.details[t].barang_id,nominal:i.details[t].jumlah}},r+=i.details[t].jumlah*c.harga_pokok}n.details[0]={akun_ref:"111",nominal:i.sum,dk:"D"},n.details[1]={akun_ref:"411",nominal:i.sum,dk:"K"},n.details[2]={akun_ref:"511",nominal:r,dk:"D"},l(n),u({uraian:"Penjualan ("+f(Date.now())+")",tanggal:f(Date.now()),details:[{barang_id:"",jumlah:""}],sum:0}),e.preventDefault()}(e)}},r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"form-control"},"Uraian: "),r.a.createElement("input",{className:"mx-2 form-control",type:"text",name:"uraian",required:!0,disabled:!0,value:i.uraian}),r.a.createElement("label",{className:"form-control"},"Tanggal: "),r.a.createElement("input",{className:"mx-2 form-control",type:"date",name:"tanggal",required:!0,disabled:!0,value:i.tanggal})),i.details&&i.details.map((function(e,t){return r.a.createElement(z,{key:t,id:t,catatan:e,barang:a,handleChange:d,deleteCatatan:s})})),r.a.createElement("div",{className:"form-inline form-group"},r.a.createElement("label",{className:"mr-2 form-control"},"Total: "),"Rp.",r.a.createElement("label",{className:"mx-2 form-control"},i.sum&&b(i.sum))),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Tambah Entry",onClick:function(){u({uraian:i.uraian,tanggal:i.tanggal,details:[].concat(Object(k.a)(i.details),[{barang_id:"",jumlah:""}]),sum:i.sum})}}),r.a.createElement("input",{className:"mx-2 btn btn-primary",type:"submit",value:"Submit"}))))},z=function(e){var a=e||function(){},t=a.id,n=a.handleChange,l=a.deleteCatatan,c=a.catatan,o=a.barang,m=o.find((function(e){return e.id.toString()===c.barang_id}));return r.a.createElement("div",{className:"form-group form-inline"},r.a.createElement("label",{className:"form-control"},c.barang_id&&"Stok: "+m.stok),r.a.createElement("select",{className:"form-control mx-2",value:c.barang_id,name:"barang",onChange:function(e){return n(t,e)},required:!0},r.a.createElement("option",{value:"",disabled:!0},"Pilih Barang"),o&&o.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.nama)}))),"Rp.",r.a.createElement("label",{className:"form-control mx-2"},c.barang_id&&b(m.harga_jual)),"X",r.a.createElement("input",{className:"form-control skinny mx-2",value:c.nominal,type:"number",name:"jumlah",onChange:function(e){return n(t,e)},disabled:!c.barang_id,required:!0,min:1,max:m&&m.stok}),"= Rp.",r.a.createElement("label",{className:"form-control mx-2"},c.barang_id&&c.jumlah&&b(c.jumlah*m.harga_jual)),t>0&&r.a.createElement("input",{className:"btn btn-danger mx-2",type:"button",value:"X",onClick:function(){return l(t)}}))},H=function(e){var a=e.add,t=e.data;return r.a.createElement("div",{className:"container"},r.a.createElement(J,{show:!0,add:a,barang:t.barang}))},U=function(e){var a=Object(n.useState)(!1),t=Object(o.a)(a,2),l=t[0],c=t[1],m=e||null,i=m.methods,u=m.data,s=(u||null).akun,d=(i||null).add,E=0,g=0,v=0,p=0,h=0,N=s.filter((function(e){return"1"===e.ref.charAt(0)})),x=s.filter((function(e){return"3"===e.ref.charAt(0)})),y=s.filter((function(e){return"4"===e.ref.charAt(0)})),j=s.filter((function(e){return"5"===e.ref.charAt(0)})),_=s.filter((function(e){return"6"===e.ref.charAt(0)}));s.find((function(e){return"312"===e.ref}));N.forEach((function(e){return E+=e.saldo})),x.forEach((function(e){return g+=e.saldo})),y.forEach((function(e){return v+=e.saldo})),j.forEach((function(e){return p+=e.saldo})),_.forEach((function(e){return h+=e.saldo}));var S=-1*(v+p),w=S-h,C=0;l&&(C=S-h,w=0);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-block card mx-auto m-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",null,"Neraca")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"form m-3",onSubmit:function(e){return function(e){var a=[{akun_ref:"311",nominal:C,dk:"K"}];y.forEach((function(e){return a=[].concat(Object(k.a)(a),[{akun_ref:e.ref,nominal:-1*e.saldo,dk:"D"}])})),j.forEach((function(e){return a=[].concat(Object(k.a)(a),[{akun_ref:e.ref,nominal:e.saldo,dk:"K"}])})),_.forEach((function(e){return a=[].concat(Object(k.a)(a),[{akun_ref:e.ref,nominal:e.saldo,dk:"K"}])}));var t={uraian:"Tutup Buku ("+f(Date.now())+")",details:a};d(t),c(!l),e.preventDefault()}(e)}},r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},r.a.createElement("h5",null,"Akun")),r.a.createElement("div",{className:"col-8 border text-left"},r.a.createElement("h5",null,"Nominal"))),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-12 border text-left"},r.a.createElement("h5",null,"Aktiva"))),N&&N.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},e.nama),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",b(e.saldo)))})),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"}),r.a.createElement("div",{className:"col-8 border text-right"},r.a.createElement("b",null,"Rp.",E&&b(E)))),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-12 border text-left"},r.a.createElement("h5",null,"Pasiva"))),x&&x.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},e.nama),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",b(-1*e.saldo)))})),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},C>=0?"Laba":"Rugi"," Ditahan"),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",b(C))),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},w>=0?"Laba":"Rugi"," Berjalan"),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",b(w))),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"}),r.a.createElement("div",{className:"col-8 border text-right"},r.a.createElement("b",null,"Rp.",g&&b(-1*g+w+C)))),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-12 border text-left"},r.a.createElement("h5",null,"Penjualan"))),y&&y.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},e.nama),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",!l&&b(-1*e.saldo),l&&b(0)))})),j&&j.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},e.nama),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",!l&&b(e.saldo),l&&b(0)))})),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},r.a.createElement("b",null,"Laba Kotor")),r.a.createElement("div",{className:"col-8 border text-right"},r.a.createElement("b",null,"Rp.",S&&!l&&b(S)))),_&&_.map((function(e){return r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},e.nama),r.a.createElement("div",{className:"col-8 border text-right"},"Rp.",!l&&b(e.saldo),l&&b(0)))})),r.a.createElement("div",{className:"row border"},r.a.createElement("div",{className:"col-4 border text-left"},r.a.createElement("b",null,"Laba Bersih")),r.a.createElement("div",{className:"col-8 border text-right"},r.a.createElement("b",null,"Rp.",w&&!l&&b(w)))),r.a.createElement("input",{className:l?"d-none":"mt-3 btn btn-primary",type:"button",value:"Tutup Buku",onClick:function(){return c(!0)}}),r.a.createElement("input",{className:l?"mt-3 btn btn-primary":"d-none",type:"button",value:"Cancel",onClick:function(){return c(!1)}}),r.a.createElement("input",{className:l?"mt-3 mx-3 btn btn-primary":"d-none",type:"submit",value:"Submit"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)([]),u=Object(o.a)(c,2),s=u[0],f=u[1],b=Object(n.useState)([]),E=Object(o.a)(b,2),v=E[0],k=E[1],h=Object(n.useState)(!0),N=Object(o.a)(h,2),x=N[0],y=N[1],_=function(e){var a=e.uraian,t=(e.tanggal,e.details),n=new Date,r=n.getDate()<10?0+n.getDate().toString():n.getDate(),c=n.getMonth()+1<10?0+(n.getMonth()+1).toString():n.getMonth(),o=n.getFullYear(),m=n.getHours()<10?0+n.getHours().toString():n.getHours(),i=n.getMinutes()<10?0+n.getMinutes().toString():n.getMinutes(),u=n.getSeconds()<10?0+n.getSeconds().toString():n.getSeconds();d("jurnal","POST",{uraian:a,tanggal:r+"/"+c+"/"+o+" "+m+":"+i+":"+u,details:t}).then((function(e){return f(e.jurnal_list)})),d("akun","GET").then((function(e){return l(e.akun_list)}))},S=function(){y(!x),d("akun","GET").then((function(e){return l(e.akun_list)})),d("barang","GET").then((function(e){return k(e.barang_list)})),d("jurnal","GET").then((function(e){return f(e.jurnal_list)}))};return Object(n.useEffect)((function(){S()}),[]),r.a.createElement(m.a,null,r.a.createElement("div",{className:"container-fluid h-100"},r.a.createElement("div",{className:"row h-100"},x&&r.a.createElement("div",{className:"vertical-menu h-100"},r.a.createElement("span",{className:"pointer",onClick:function(){return y(!x)}},r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{style:{width:"15vh",borderRadius:"25px"},src:g.a}))),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/"},r.a.createElement("i",{className:"fa fa-home",style:{fontSize:"24px"}})," Landing Page")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/jurnal"},r.a.createElement("i",{className:"fa fa-book",style:{fontSize:"24px"}})," Jurnal")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/bukubesar"},r.a.createElement("i",{className:"fa fa-bank",style:{fontSize:"24px"}})," Buku Besar")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/neraca"},r.a.createElement("i",{className:"fa fa-balance-scale",style:{fontSize:"24px"}})," Neraca")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/pos"},r.a.createElement("i",{className:"fa fa-money",style:{fontSize:"24px"}})," ",r.a.createElement("i",null,"Point of Sale")," (POS)")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/barang"},r.a.createElement("i",{className:"fa fa-archive",style:{fontSize:"24px"}})," Manajemen Barang")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,{to:"/pengaturan"},r.a.createElement("i",{className:"fa fa-cog",style:{fontSize:"24px"}})," Pengaturan")),r.a.createElement("span",{onClick:function(){return S()}},r.a.createElement(m.b,null,r.a.createElement("i",{className:"fa fa-refresh",style:{fontSize:"24px"}})," Perbarui Data"))),r.a.createElement("main",{className:"col-12"},r.a.createElement("button",{className:"vm-btn btn",onClick:function(){return y(!x)}},r.a.createElement("i",{className:"fa fa-align-justify",style:{fontSize:"24px"}})),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(K,{akun:t,barang:v})),r.a.createElement(i.a,{exact:!0,path:"/jurnal"},r.a.createElement(j,{data:{akun:t,jurnal:s},methods:{add:_}})),r.a.createElement(i.a,{exact:!0,path:"/bukubesar"},r.a.createElement(B,{data:t})),r.a.createElement(i.a,{exact:!0,path:"/pengaturan"},r.a.createElement(p,{data:t,add:function(e){d("akun","POST",e).then((function(e){return l(e.akun_list)}))}})),r.a.createElement(i.a,{exact:!0,path:"/barang"},r.a.createElement(M,{data:{barang:v,akun:t},methods:{add:function(e){_({uraian:"Beli Barang ("+e.nama+" x "+e.stok+")",details:[{akun_ref:"112",nominal:e.stok*e.harga_pokok,dk:"D"},{akun_ref:"111",nominal:e.stok*e.harga_pokok,dk:"K"}]}),d("barang","POST",e).then((function(e){return k(e.barang_list)}))},stk:function(e){_({uraian:"Beli Barang ("+e.nama+" x "+e.stok+")",details:[{akun_ref:"112",nominal:e.stok*e.harga_pokok,dk:"D"},{akun_ref:"111",nominal:e.stok*e.harga_pokok,dk:"K"}]}),d("barang/"+e.id,"PUT",{stok:e.stok}).then((function(e){return k(e.barang_list)}))}}})),r.a.createElement(i.a,{exact:!0,path:"/pos"},r.a.createElement(H,{data:{barang:v},add:_})),r.a.createElement(i.a,{exact:!0,path:"/neraca"},r.a.createElement(U,{data:{akun:t,jurnal:s,barang:v},methods:{add:_}})))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.17173e0c.chunk.js.map